apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  type: ClusterIP
  selector:
    app: nginx
  ports:
  - port: 80
    targetPort: 80

----------------------------------------------------------------
ðŸ”µ Cluster IP
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  type: ClusterIP
  selector:
    app: nginx
  ports:
  - port: 80     # The Service will listen on port 80.  # Service is a virtual load balancer inside the cluster.
    targetPort: 80   # iptables (created by kube-proxy) forwards to: PodIP:targetPort

ðŸ”µ NodePort
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  type: NodePort
  selector:
    app: nginx
  ports:
  - port: 80
    targetPort: 80
    nodePort: 30007

ðŸ”µ Loadbalancer
  apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  type: LoadBalancer
  selector:
    app: nginx
  ports:
  - port: 80
    targetPort: 80
----------------------------------------------------------------------------------------------------------------------------------------------------
ðŸŸ¡ So Final Mapping
| Field      | Meaning                   |
| ---------- | ------------------------- |
| port       | Service listening port    |
| targetPort | Container port inside Pod |

port: 90
targetPort: 8080

Client connects to: ServiceIP:90
Pod receives on: 8080

-->â€œport is the Service door. targetPort is the Pod door.â€
-->Service opens port 80 on its virtual IP.That port forwards traffic to the Podâ€™s targetPort.


